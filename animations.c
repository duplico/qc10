#include <stdint.h>
#include <avr/io.h>
#include <avr/interrupt.h>
#include <util/delay.h>

#include "tlc5940.h"
#include "animations.h"

QCSys heartbeats[][4] = {
  {{32, 0, 0, 0, 3000}, // Red, .2/3sec
   {0, 0, 0, 0, 200},
   {32, 0, 0, 0, 200},
   {0, 0, 0, 0, 200}},
   
  {{32, 14, 0, 0, 1500}, // Orange, .2/1.5sec
   {0, 0, 0, 0, 200},
   {32, 14, 0, 0, 200},
   {0, 0, 0, 0, 200}},
   
  {{32, 24, 0, 0, 1000}, // Yellow, .2/1.0sec
   {0, 0, 0, 0, 200},
   {32, 24, 0, 0, 200},
   {0, 0, 0, 0, 200}},
   
  {{0, 32, 0, 0, 800}, // Green, .15/0.8sec
   {0, 0, 0, 0, 150},
   {0, 32, 0, 0, 150},
   {0, 0, 0, 0, 150}},
   
  {{0, 0, 32, 0, 500}, // Blue, .15/0.5sec
   {0, 0, 0, 0, 150},
   {0, 0, 32, 0, 150},
   {0, 0, 0, 0, 150}},
   
  {{20, 0, 24, 0, 400}, // Violet, .125/0.4sec
   {0, 0, 0, 0, 125},
   {20, 0, 24, 0, 125},
   {0, 0, 0, 0, 125}},
   
  {{32, 0, 18, 0, 250}, // Pink, .1/0.25sec
   {0, 0, 0, 0, 100},
   {32, 0, 18, 0, 100},
   {0, 0, 0, 0, 100}},
};


#define QCR_DELAY 100
QCRing bling1[] = {
  {0, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {128, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {0, 0, 0, 0, 0, 0,
   128, 0, 0, 0, 0, 128,
   QCR_DELAY},
  {0, 128, 0, 0, 0, 128,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {0, 0, 0, 0, 0, 0,
   0, 128, 0, 0, 128, 0,
   QCR_DELAY},
  {0, 0, 128, 0, 128, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {0, 0, 0, 0, 0, 0,
   0, 0, 128, 128, 0, 0,
   QCR_DELAY},
  {0, 0, 0, 128, 0, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {0, 0, 0, 0, 0, 0,
   0, 0, 128, 128, 0, 0,
   QCR_DELAY},
  {0, 0, 128, 0, 128, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {0, 0, 0, 0, 0, 0,
   0, 128, 0, 0, 128, 0,
   QCR_DELAY},
  {0, 128, 0, 0, 0, 128,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {0, 0, 0, 0, 0, 0,
   128, 0, 0, 0, 0, 128,
   QCR_DELAY},
  {128, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {0, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY}
};
#define BLING1LEN 15

QCRing bling2[] = {
  {0, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY},
  {128, 0, 0, 0, 0, 0,
   0, 0, 0, 0, 0, 0,
   QCR_DELAY}};

QCRing *ring_animations[] = {&bling1, &bling2};
uint8_t ring_anim_lengths[] = {BLING1LEN, 2};
